webpackJsonp([16],{Fy1C:function(e,t){},KGIi:function(e,t,i){"use strict";t.a=function(e){var t=window.localStorage.getItem("uid"),i=window.localStorage.getItem("appkey"),s=window.localStorage.getItem("credential");(window.sdk||(window.sdk=new WSDK)).Base.login({uid:t,appkey:i,credential:s,timeout:5e3,success:function(e){console.log("login success",e),window.aliLogined=!0,console.log(window.aliLogined)},error:function(e){console.log("login fail",e)}})}},Mzyz:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("BO1k"),a=i.n(s),l=(i("Dsho"),i("KGIi"),i("mtWM")),n=i.n(l),d=(i("rLAy"),{data:function(){return{userName:window.localStorage.getItem("userName"),friendName:window.localStorage.getItem("friendName"),userId:window.localStorage.getItem("userId"),nickName:window.localStorage.getItem("nickName"),hasFriend:!1,myId:this.$route.params.id,infos:[],friendsId:[],allFriends:[],friendImg:""}},created:function(){var e=this;n.a.get("http://121.42.177.97:8080/red/user/find_id.do?friend_id="+this.myId).then(function(t){e.infos=t.data.data[0],console.log(e.infos)}).catch(function(e){throw e})},mounted:function(){var e=this;n.a.post("http://121.42.177.97:8080/red/user/allfriend.do?name="+this.userName).then(function(t){var i=!0,s=!1,l=void 0;try{for(var n,d=a()(t.data.data);!(i=(n=d.next()).done);i=!0){var c=n.value;e.friendsId.push(c.friend_id)}}catch(e){s=!0,l=e}finally{try{!i&&d.return&&d.return()}finally{if(s)throw l}}if(e.myId=parseFloat(e.myId),-1===e.friendsId.indexOf(e.myId))e.hasFriend=!0;else for(var r=t.data.data,o=r.length,u=0;u<o;u++){var _=r[u],v=_.friend_id;e.myId===v&&(e.allFriends=_,console.log(e.allFriends),window.localStorage.setItem("friendTouid",e.allFriends.im_user),window.localStorage.setItem("friendNick",e.allFriends.friend_nick))}}).catch(function(e){throw e})},methods:{addFriend:function(){var e=this;n.a.post("http://121.42.177.97:8080/red/user/addfriend.do?name="+this.userName+"&id="+this.userId).then(function(t){1===t.data.data?(console.log(t.data),e.$router.push({path:"/contact/new-friends"})):e.$vux.toast.show({type:"cancel",text:"不能重复添加好友"})}).catch(function(e){throw e})}}}),c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile"},[s("header",{attrs:{id:"sub-header"}},[s("div",{staticClass:"center"},[s("div",{staticClass:"iconfont icon-fanhui",on:{click:function(t){e.$router.back()}}},[s("span",[e._v("返回")])]),e._v(" "),s("span",[e._v("详细资料")])])]),e._v(" "),e.hasFriend?s("div",[s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell user-details"},[e._m(0),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"self-nickname"},[e._v("\n            "+e._s(e.nickName)+"\n          ")])])])]),e._v(" "),s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell weui-cell_access"},[s("router-link",{staticClass:"weui-cell__bd",attrs:{to:{name:"remark",params:{id:e.myId}}}},[s("p",[e._v("设置备注和标签")])]),e._v(" "),s("div",{staticClass:"weui-cell__ft"})],1)]),e._v(" "),s("button",{staticClass:"weui-btn weui-btn_primary",on:{click:e.addFriend}},[e._v("添加好友")])]):s("div",[s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell user-details"},[s("div",{staticClass:"weui-cell__hd"},[e.allFriends.hard_pic?s("img",{attrs:{src:"http://121.42.177.97:8080/red/use/pic_id.do?user_id="+e.allFriends.friend_id,alt:"头像"}}):s("img",{attrs:{src:i("c5Or"),alt:"默认头像"}})]),e._v(" "),s("div",{staticClass:"weui-cell__bd"},[s("h4",{staticClass:"self-nickname"},[e._v("\n            "+e._s(e.allFriends.friend_nick)+"\n            "),e._v(" "),s("span",{staticClass:"gender"})]),e._v(" "),s("p",{staticClass:"self-wxid",staticStyle:{color:"#999"}},[e._v(e._s(e.allFriends.friend_id))])])])]),e._v(" "),s("div",{staticClass:"weui-cells"},[s("div",{staticClass:"weui-cell weui-cell_access"},[s("router-link",{staticClass:"weui-cell__bd",attrs:{to:{name:"remark",params:{id:e.myId}}}},[""===e.allFriends.friend_text?s("p",[e._v("设置备注和标签")]):s("p",[e._v(" "+e._s(e.allFriends.friend_nick))])]),e._v(" "),s("div",{staticClass:"weui-cell__ft"})],1)]),e._v(" "),e._m(1),e._v(" "),s("router-link",{staticClass:"weui-btn weui-btn_primary",attrs:{to:{name:"dialogue",params:{id:e.myId}}},on:{click:function(t){e.aliLogin()}}},[e._v("发消息")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("img",{staticClass:"self-header",attrs:{src:i("c5Or"),alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cells"},[t("div",{staticClass:"weui-cell"},[t("div",{staticClass:"weui-cell__bd"},[t("p",[this._v("地区")])]),this._v(" "),t("div",{staticClass:"weui-cell__ft",staticStyle:{"-webkit-flex":"4","text-align":"left"}},[t("span",[this._v("上海")])])]),this._v(" "),t("div",{staticClass:"weui-cell weui-cell_access"},[t("div",{staticClass:"weui-cell__bd"},[t("p",[this._v("更多")])]),this._v(" "),t("div",{staticClass:"weui-cell__ft"})])])}]};var r=i("VU/8")(d,c,!1,function(e){i("Fy1C")},"data-v-8af34ee8",null);t.default=r.exports}});
//# sourceMappingURL=16.a06b0fbf129005e7f148.js.map